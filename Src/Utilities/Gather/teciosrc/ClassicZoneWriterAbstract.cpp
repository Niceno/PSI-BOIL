#include "ClassicZoneWriterAbstract.h"
#include "AltTecUtil.h"
#include "checkPercentDone.h"
#include "FieldData.h"
#include "FileWriterInterface.h"
#include "ItemSetIterator.h"
namespace tecplot { namespace ___3931 { ClassicZoneWriterAbstract::ClassicZoneWriterAbstract( ItemSetIterator&              varIter, ___4634                   zone, ___4634                   ___341, std::vector<___372> const& ___4562, ___372                     ___4497, ___37&                   ___36) : ___4707(varIter, zone, ___341, ___4562, ___4497, ___36) , m_variableWriter(varIter, zone, ___341, ___36) , m_headerWriter(varIter, zone, ___341, ___36, m_zoneFileLocations) {} ClassicZoneWriterAbstract::~ClassicZoneWriterAbstract() {} uint64_t ClassicZoneWriterAbstract::zoneDataFileSize(bool ___2000) { uint64_t ___3356 = 0; m_varIter.reset(); ___4350 const baseVar = m_varIter.baseItem(); while (m_varIter.hasNext()) { ___4350 const datasetVar = m_varIter.next(); ___4350 const fileVar = datasetVar - baseVar; if (!m_writeVariables[fileVar]) continue; ___3356 += m_variableWriter.varSizeInFile(datasetVar, ___2000); } return ___3356; } uint64_t ClassicZoneWriterAbstract::zoneHeaderFileSize(bool ___2000) { return m_headerWriter.sizeInFile(___2000); } ___372 ClassicZoneWriterAbstract::writeZoneData(FileWriterInterface& szpltFile) { m_varIter.reset(); ___4350 const numVarsToWrite = m_varIter.___2810(); ___372 ___2037 = m_zoneFileLocations.___2671.alloc(numVarsToWrite, ___330); ___4350 const baseVar = m_varIter.baseItem(); while (___2037 && m_varIter.hasNext()) { ___4350 const datasetVar = m_varIter.next(); ___4350 const fileVar = datasetVar - baseVar; if (!m_writeVariables[fileVar]) continue; ___2037 = ___483(SzPltWriteOperation_WriteFieldData, ___2335, datasetVar, ___2675); ___1350 ___1349(&___2335, ___2675 + 1, datasetVar + 1); ___2037 = ___2037 && ___1349.___2065(); ValueLocation_e const ___4324 = ___1349.___1784(); if (___2037) { m_zoneFileLocations.___2671[fileVar] = (uint64_t)szpltFile.fileLoc(); ___2037 = m_variableWriter.writeVarHeader(szpltFile, ___4324, datasetVar); } if (___2037) ___2037 = m_variableWriter.writeVar(szpltFile, ___1349); } ENSURE(VALID_BOOLEAN(___2037)); return ___2037; } ___372 ClassicZoneWriterAbstract::writeZoneHeader(FileWriterInterface& szpltFile) { return m_headerWriter.write(szpltFile); } }}
